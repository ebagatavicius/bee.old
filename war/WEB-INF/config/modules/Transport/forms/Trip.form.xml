<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE Form [
  <!ENTITY ROW_STYLE "margin-bottom: 1ex;">
]>
<f:Form xmlns="http://www.butent.com/widget"
  xmlns:f="http://www.butent.com/form" 
  xmlns:d="http://www.butent.com/decorator"
  xmlns:xi="http://www.w3.org/2001/XInclude"

  name="Trip" viewName="Trips" caption="=trip"
  width="900" height="600"
  >
  <FlowPanel class="flexBox-vertical">
    <Table>
      <row>
        <Label text="=trTripDate" class="bee-hasDefaults bee-required" />
        <InputDateTime source="Date" style="width:110px;" />
        <Label text="=trTruck" class="bee-required" horizontalAlignment="right" />
        <DataSelector source="Vehicle" renderColumns="VehicleNumber" filter="IsTruck" required="true" />
        <Label text="=trailer" horizontalAlignment="right" />
        <DataSelector source="Trailer" filter="IsTrailer" />
      </row>
      <row>
        <Label text="=scheduledEndingDate" />
        <InputDate source="PlannedEndDate" style="width:80px;" />
        <Label text="=trTripNo" class="bee-hasDefaults bee-required" horizontalAlignment="right" />
        <InputText source="TripNo" />
        <Label text="=status" class="bee-hasDefaults bee-required" horizontalAlignment="right" />
        <ListBox source="Status" />
      </row>
    </Table>
    <HorizontalPanel>
      <ChildGrid name="TripDrivers" relColumn="Trip" style="width:300px; margin-right:20px" />
      <FlowPanel>
        <Label text="=notes" />
        <InputArea source="Notes" style="width: 200px;" visibleLines="5" />
      </FlowPanel>
    </HorizontalPanel>

    <TabbedPages class="flexible" style="margin-top: 1ex;">
      <page>
        <text>=transportTripMainData</text>
        <FlowPanel class="flexBox-horizontal">
          <FlowPanel class="flexBox-vertical" style="margin-left: 1em">
            <FlowPanel class="flexBox-horizontal" style="&ROW_STYLE;">
              <Label text="=transportDeparture" style="font-weight: bold; margin: 0 20px" />
              <Label text="=transportArrival" style="font-weight: bold; margin: 0 65px" />
            </FlowPanel>
            
            <FlowPanel class="flexBox-horizontal" style="&ROW_STYLE;">
              <SimplePanel>
                <InputDate source="DateFrom" style="width: 7em;" summarize="true" />
              </SimplePanel>
              <Label text="=date"  style="margin: 0 20px 0 20px"/>
              <SimplePanel>
                <InputDate source="DateTo" style="width: 7em;" summarize="true" />
              </SimplePanel>
            </FlowPanel>
            
            <FlowPanel class="flexBox-horizontal" style="&ROW_STYLE;">
              <SimplePanel>
                <InputDouble source="SpeedometerBefore" style="width: 6em;" summarize="true" />
              </SimplePanel>
              <Label text="=transportSpeedometer" style="margin: 0 10px 0 10px" />
              <SimplePanel>
                <InputDouble source="SpeedometerAfter" style="width: 6em;" summarize="true" />
              </SimplePanel>
            </FlowPanel>
            
            <FlowPanel class="flexBox-horizontal" style="&ROW_STYLE;">
              <SimplePanel>
                <InputDecimal source="FuelBefore" style="width: 4em;" summarize="true" />
              </SimplePanel>
              <Label text="=transportFuelBalanceInTank" style="margin: 0 24px 0 24px" />
              <SimplePanel>
                <InputDecimal source="FuelAfter" style="width: 4em;" summarize="true" />
              </SimplePanel>
            </FlowPanel>
           
          </FlowPanel>

          <FlowPanel class="flexBox-vertical flexible" style="margin-left: 1em;">
            <ChildGrid name="DriverAdvances" parent="TripDrivers" relColumn="Driver" class="flexible" />
          </FlowPanel>
        </FlowPanel>
      </page>
      <page>
        <text>=cargos</text>
        <ChildGrid name="TripCargo" relColumn="Trip" />
      </page>
      <page>
        <text>=transportTripCosts</text>
        <ComplexPanel>
          <layer top="0" bottom="40" bottomUnit="%" left="0" right="0">
            <ChildGrid name="TripCosts" relColumn="Trip" />
          </layer>
          <layer top="60" topUnit="%" bottom="0" left="0" right="0">
            <ChildGrid name="TripFuelCosts" relColumn="Trip" />
          </layer>
        </ComplexPanel>
      </page>
      <page>
        <text>=tripRouteDocs</text>
        <ComplexPanel>
          <layer top="0" bottom="30" bottomUnit="%" left="0" right="0">
            <ChildGrid name="TripRoutes" relColumn="Trip" />
          </layer>
          <layer top="70" topUnit="%" bottom="0" left="0" right="40" rightUnit="%">
            <ChildGrid name="TripFuelConsumptions" relColumn="Trip" />
          </layer>
        </ComplexPanel>
      </page>
      <page>
        <text>=documents</text>
        <ChildGrid name="RelatedDocuments" relColumn="Trip" />
      </page>
    </TabbedPages>
  </FlowPanel>
 
</f:Form>
