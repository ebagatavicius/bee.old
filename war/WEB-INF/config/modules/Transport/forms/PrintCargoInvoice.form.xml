<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE Form [
  <!ENTITY section "margin-top: 5px;">
  <!ENTITY bold "font-weight:bold;">
  <!ENTITY form "PrintCargoInvoice">
]>
<f:Form xmlns="http://www.butent.com/widget"
  xmlns:f="http://www.butent.com/form"
  xmlns:ui="http://www.butent.com/ui" 
  
  name="&form;" caption="=trdInvoice" disabledActions="save"
  width="70" widthUnit="%" height="90" heightUnit="%"
  >
  <FlowPanel style="padding: 10px; background-color: white;">
    <HorizontalPanel>
      <Image  url="images/logo.png" />
      <cell width="100" widthUnit="%">
        <FlowPanel style="text-align:center;">
          <Label html="PVM Sąskaita-faktūra" style="&bold;" />
          <TextLabel source="InvoiceNo">
            <renderToken source="InvoicePrefix" prefix="Serija " suffix=" " />
            <renderToken source="InvoiceNo" prefix="Nr. " />
          </TextLabel>
        </FlowPanel>
      </cell>
    </HorizontalPanel>

    <FlowPanel style="&section;">
      <Table style="width:100%;">
        <row>
          <cell rowSpan="2" style="vertical-align:top;">
            <Label html="Siuntėjas:" />
          </cell>
          <cell rowSpan="2" style="vertical-align:top; width:50%;">
            <FlowPanel name="Supplier" />
          </cell>
          <cell style="vertical-align:top;">
            <Label html="Gavėjas:" horizontalAlignment="right" />
          </cell>
          <cell style="vertical-align:top; width:50%;">
            <FlowPanel name="Customer" />
          </cell>
        </row>
        <row>
          <cell style="vertical-align:top;">
            <TextLabel horizontalAlignment="right">
              <render>
                <ui:expression>row.Payer ? "Mokėtojas:" : null</ui:expression>
              </render>
            </TextLabel>
          </cell>
          <cell style="vertical-align:top;">
            <FlowPanel name="Payer" />
          </cell>
        </row>
      </Table>
    </FlowPanel>

    <DateTimeLabel source="Date" format="DATE_LONG" horizontalAlignment="right" />

    <Table name="InvoiceDetails" style="&section; width:100%">
      <properties rateCurrency="EUR" />
      <row>
        <cell rowSpan="2">
          <Label text="Paslauga">
            <properties name="Name" />
          </Label>
        </cell>
        <cell rowSpan="2">
          <Label text="Užsakymo Nr.">
            <properties name="OrderNo" />
          </Label>
        </cell>
        <Label text="Pakrovimas">
          <properties name="LoadingPlace" />
        </Label>
        <cell rowSpan="2">
          <Label text="CMR Nr.">
            <properties name="Cmr" />
          </Label>
        </cell>
        <Label text="Vairuotojas">
          <properties name="Driver" />
        </Label>
        <cell rowSpan="2">
          <Label text="=trdAmountWoVat">
            <properties name="Amount" />
          </Label>
        </cell>
        <cell rowSpan="2">
          <Label text="=trdVat" horizontalAlignment="right">
            <properties name="Vat" />
          </Label>
        </cell>
        <cell rowSpan="2">
          <FlowPanel>
            <properties name="RateAmount" />
            <InlineLabel text="=trdAmount" />
            <InlineLabel html="EUR" style="padding-left:3px;" />
          </FlowPanel>
        </cell>
      </row>
      <row>
        <Label text="Iškrovimas">
          <properties name="UnloadingPlace" />
        </Label>
        <Label text="Transporto valst.Nr.">
          <properties name="Vehicle" />
        </Label>
      </row>
      <row>
        <cell colSpan="5">
          <FlowPanel style="text-align:right;">
            <Label text="Bendra suma:" />
            <Label text="PVM suma:" />
            <Label text="VISO:" />
          </FlowPanel>
        </cell>
        <FlowPanel>
          <Label>
            <properties name="AmountTotal" />
          </Label>
          <Label>
            <properties name="VatTotal" />
          </Label>
          <Label>
            <properties name="Total" />
          </Label>
         </FlowPanel>
        <FlowPanel>
          <Label>
            <properties name="Currency" />
          </Label>
          <Label>
            <properties name="Currency" />
          </Label>
          <Label>
            <properties name="Currency" />
          </Label>
        </FlowPanel>
        <FlowPanel>
          <Label>
            <properties name="RateAmountTotal" />
          </Label>
          <Label>
            <properties name="RateVatTotal" />
          </Label>
          <Label>
            <properties name="RateTotal" />
          </Label>
        </FlowPanel>
      </row>
    </Table>

    <HorizontalPanel style="&section;">
      <Label html="Suma žodžiais:" />
      <Label name="TotalInWords" />
    </HorizontalPanel>

    <TextLabel source="Term" style="&section; &bold; white-space:pre-wrap;">
      <renderToken source="Term" prefix="Sąskaitą apmokėti iki: " />
    </TextLabel>

    <HtmlPanel style="&section;">
      <span style="font-size:smaller; &bold; display:block; white-space:pre-wrap;">
Pastaba:
Šios nuorodos negalioja sąskaitoms su 21 % PVM 
0 % PVM tarifas: pagal PVM 1 sr. 45 str.
Be PVM: Pagal PVM įst. 13 (1) str.
      </span>
      <span style="font-size:smaller; display:block; white-space:pre-wrap;">
Pagal LR CK 6.210 (1) straipsnį: „Terminą įvykdyti piniginę prievolę praleidęs skolininkas privalo mokėti 0,02 procentų dydžio delspinigius per dieną už sumą, kurią sumokėti praleistas terminas, jeigu įstatymai ar sutartis nenustato kitokio delspinigių dydžio“.
      </span>
    </HtmlPanel>

    <TextLabel source="Notes" style="white-space:pre-wrap;" />

    <Table style="width:100%; margin-top:10px;">
      <row style="&bold;">
        <Label html="Išdavė" />
        <Label html="Priėmė" />
      </row>
      <row style="font-size:xx-small;">
        <Label html="(vardas, pavardė, pareigos ir parašas)" />
        <Label html="(vardas, pavardė, pareigos ir parašas)" />
      </row>
      <row>
        <TextLabel source="Manager" style="margin-top:5px;">
          <renderToken source="ManagerFirstName" />
          <renderToken source="ManagerLastName" />
        </TextLabel>
      </row>
    </Table>
  </FlowPanel>
</f:Form>
