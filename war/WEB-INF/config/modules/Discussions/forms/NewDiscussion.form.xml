<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE Form [
  <!ENTITY inline "display: inline-block;">

  <!ENTITY section "margin-top: 4px;">
  <!ENTITY header "font-style: italic;">
  <!ENTITY separator "<hr/>">

  <!ENTITY lbl1 "&inline; max-width: 128px; min-width: 110px; text-align: right; padding-right: 18px; min-height: 20px; max-height: 20px; padding-top: 1px;">
  <!ENTITY top1 "text-align: right; padding-right: 18px; max-width: 128px; padding-top: 1px;">
  <!ENTITY inp1x "&inline; width: 450px;">
  <!ENTITY inp2x "&inline; width: 540px;">
 
]>
<f:Form xmlns="http://www.butent.com/widget"
  xmlns:f="http://www.butent.com/form"
  xmlns:xi="http://www.w3.org/2001/XInclude"
  
  name="NewDiscussion" caption="=discussNew" width="675" height="650">

  <FlowPanel style="padding: 10px 2px 2px 10px; min-width: 660px; min-height: 590px">
    
    <FlowPanel style="&section;" class="flexBox-horizontal">
      <Label text="=discussSubject" class="bee-required" style="&lbl1; min-width:80px;" />
      <InputText source="Subject" style="&inp2x; width: 541px" />
    </FlowPanel>

    <FlowPanel style="&section;" class="flexBox-horizontal">
      <Label text="=discussDescription" style="&top1; padding-right: 18px; min-width:80px;" />
      <RichTextEditor name="Description" style="width: 540px; height: 200px;" />
    </FlowPanel>

    &separator;
    <FlowPanel style="&section;" class="flexBox-horizontal">
      <Label text="=discussFiles" style="&top1; min-width:70px;" />
      <FileCollector name="Files" editableColumns="name">
        <face resource="attachment" />
      </FileCollector>
    </FlowPanel>

    &separator; 
    
    <FlowPanel style="&section;" class="flexBox-horizontal">
      <CheckBox name="Accessibility" source="Accessibility" text="=discussPublic" style="&top1; min-width:70px; padding-right:18px;" />
      <CheckBox name="Mail" text="=mailNotify" />
    </FlowPanel>
    
    <FlowPanel style="&section;" class="flexBox-horizontal">
      <Label name="membersLabel" text="=discussMembers" style="&top1;min-width:80px; padding-right:18px;" />
      <MultiSelector name="Members" viewName="Users" property="Members" renderColumns="FirstName LastName"
        editPopup="true" editSource="CompanyPerson" disablable="true" style="&inp2x;" label="=discussMembers" />
    </FlowPanel>

    &separator;
    <FlowPanel style="&section;" class="flexBox-horizontal">
      <Label text="=relatedTo" style="&header;" />
    </FlowPanel>

    <FlowPanel style="&section;" class="flexBox-horizontal">
      <Label text="=companies" style="&top1;min-width:80px; padding-right:18px;" />
      <MultiSelector viewName="Companies" property="Companies" renderColumns="Name"
        editPopup="true" style="&inp2x;" />
    </FlowPanel>

    <FlowPanel style="&section;" class="flexBox-horizontal">
      <Label text="=persons" style="&top1;min-width:80px; padding-right:18px;" />
      <MultiSelector viewName="Persons" property="Persons" renderColumns="FirstName LastName"
        editPopup="true" style="&inp2x;" />
    </FlowPanel>

    <FlowPanel style="&section;" class="flexBox-horizontal">
      <Label text="=calAppointments" style="&top1;min-width:80px; padding-right:18px;" />
      <MultiSelector viewName="Appointments" property="Appointments"
        renderColumns="Summary" choiceColumns="Summary StartDateTime EndDateTime"
        newRowEnabled="false" editPopup="true" style="&inp2x;" />
    </FlowPanel>

    <FlowPanel style="&section;" class="flexBox-horizontal">
      <Label text="=crmTasks" style="&top1;min-width:80px; padding-right:18px;" />
      <MultiSelector viewName="Tasks" property="Tasks" 
        renderColumns="Summary ExecutorFirstName ExecutorLastName"
        choiceColumns="Summary ExecutorFirstName ExecutorLastName StartTime FinishTime"
        newRowEnabled="false" editPopup="true" style="&inp2x;" />
    </FlowPanel>
    
    <FlowPanel style="&section;" class="flexBox-horizontal">
      <Label text="=documents" style="&top1;min-width:80px; padding-right:18px;" />
      <MultiSelector viewName="Documents" property="Documents" 
        renderColumns="Name DocumentDate Number"
        choiceColumns="Name DocumentDate Number"
        newRowEnabled="false" editPopup="true" style="&inp2x;" />
    </FlowPanel>
    
    &separator;
    <FlowPanel style="&section;" class="flexBox-horizontal">
      <Label text="=announcement" style="&header;" />
    </FlowPanel>
    
    <FlowPanel style="&section;" class="flexBox-horizontal">
      <Label text="=adTopic" style="&lbl1; min-width:150px;" />
      <DataSelector name="Topic" source="Topic" style="&inp2x; width: 250px" 
        choiceColumns="Name" filter="Visible" />
    </FlowPanel>
    
    <FlowPanel style="&section;" class="flexBox-horizontal">
      <Label name="DisplayInBoard" text="=displayInBoard" style="&lbl1; min-width:150px;" />
      <Label text="=dateFromShort" style="text-transform: lowercase; margin-right:4px"/>
      <InputDateTime source="VisibleFrom" style="&inp2x; width: 100px; margin-right:8px"/>
      <Label text="=dateToShort" style="text-transform: lowercase; margin-right:4px"/>
      <InputDateTime source="VisibleTo" style="&inp2x; width: 100px" />
    </FlowPanel>  
    
    <FlowPanel style="&section;" class="flexBox-horizontal">      
      <CheckBox name="Important" source="Important" text="=important" style="&top1; min-width:70px; padding-right:18px;" />
      <CheckBox name="PermitComment" text="=prohibitComment" style="&top1; min-width: 135px; padding-right:18px;" /> 
    </FlowPanel>
    
  </FlowPanel>
</f:Form>  
