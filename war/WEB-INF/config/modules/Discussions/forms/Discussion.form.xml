<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE Form [
  <!ENTITY inline "display: inline-block;">
    
  <!ENTITY lblRight "&inline; width: 90px; vertical-align: top; text-align: right; margin: 3px 4px 3px 4px;" >
  <!ENTITY lblLeft "&inline; width: 90px; vertical-align: top; text-align: left; margin: 3px 4px 3px 4px;" >
  <!ENTITY inpLeft "&inline; text-align: left; margin: 3px 7px 3px 4px;" >
  <!ENTITY inpRight "&inline; text-align: rght; margin: 3px 7px 3px 4px;" >
  <!ENTITY discussDataPanel "min-width: 550px;" >
  <!ENTITY relDataPanel "overflow: auto;" >
  <!ENTITY commentsPanel "overflow: auto;" >
  <!ENTITY discussionHeadPanel "max-height:150px">
 
  <!ENTITY subjectLbl "&lblRight;">
  <!ENTITY subjectInp "&inpLeft;  min-width: 400px;">
  
  <!ENTITY ownerLbl "&lblRight;">
  <!ENTITY ownerInp "&inpLeft; width: 180px;">
  
  <!ENTITY createdLbl "&lblRight;">
  <!ENTITY createdInp "&inpLeft; width: 110px;"> 
  
  <!ENTITY statusLbl "&lblRight;">
  <!ENTITY statusInp "&inpLeft; width: 140px;">
    
  <!ENTITY membersLbl "&lblRight;">
  <!ENTITY membersInp "&inpLeft; width: 400px;">
  
  <!ENTITY descriptionLbl "&lblRight;">
  <!ENTITY descriptionInp "&inpLeft; /*width: calc(100&#37; - 10em);*/ min-height: 1.5em;
  max-height: 9em; overflow: auto;">
  
  <!ENTITY FilesInp "&inpLeft;">
  
  <!-- relations --> 
  <!ENTITY relCompaniesLbl "&lblRight;">
  <!ENTITY relCompaniesInp "&inpLeft;  width: 400px;">
  
  <!ENTITY relPersonsLbl "&lblRight;">
  <!ENTITY relPersonsInp "&inpLeft; width: 400px;">
  
  <!ENTITY relAppoitmentsLbl "&lblRight;">
  <!ENTITY relAppoitmentsInp "&inpLeft; width: 400px;">
  
  <!ENTITY relTasksLbl "&lblRight;">
  <!ENTITY relTasksInp "&inpLeft; width: 400px;">
  
  <!ENTITY relDocumentsLbl "&lblRight;">
  <!ENTITY relDocumentsInp "&inpLeft; width: 400px;">
  <!ENTITY separator "<hr/>">
  <!ENTITY header "font-style: italic;">
  <!ENTITY lbl1 "&inline; max-width: 128px; min-width: 110px; text-align: right; padding-right: 18px; min-height: 20px; max-height: 20px; padding-top: 1px;">
  <!ENTITY inp2x "&inline; width: 540px;">
  <!ENTITY top1 "text-align: right; padding-right: 18px; max-width: 128px; padding-top: 1px;">
  
]>
<f:Form xmlns="http://www.butent.com/widget" xmlns:f="http://www.butent.com/form"
  xmlns:ui="http://www.butent.com/ui" name="Discussion" viewName="Discussions"
  caption="=discussion">

  <FlowPanel class="flexBox-vertical">
    <FlowPanel class="flexBox-horizontal">
      <FlowPanel>
        <Label for="Subject" text="=discussSubject" class="bee-required" style="&subjectLbl;" />
        <InputText source="Subject" style="&subjectInp;" />
        <Label for="Created" text="=discussCreated" style="&createdLbl;" />
        <InputDateTime source="Created" style="&createdInp;"
          readOnly="true" />
        <Label for="Status" text="=discussStatus" style="&statusLbl;" />
        <ListBox source="Status" style="&statusInp; margin-right: 14px"
          readOnly="true" />
      </FlowPanel>
    </FlowPanel>

    <FlowPanel data="DiscussMarkTypes" name="DiscussMarkTypes"
      class="flexBox-horizontal bee-discuss-markTypes-container" />
      
      <Disclosure open="true">
        <Label text="=discussDescription" style="text-transform: uppercase;" />
        
        <FlowPanel>
          <Label class="bee-InputArea bee-discuss-Description"
           name="Description" style="&descriptionInp; width:80%; min-width: 640px; min-height: 390px" />
           
          <RichTextEditor class="bee-discuss-DescriptionEditor" 
          name="DescriptionEditor" source="Description" style="&descriptionInp; width:80%; min-width: 640px; min-height: 390px" />
        </FlowPanel>
                
      </Disclosure>
      
      <Disclosure xmlns="http://www.butent.com/widget"
        xmlns:xi="http://www.w3.org/2001/XInclude" open="false">
        <Label data="Relations" text="=discussRelatedInformation" style="text-transform: uppercase;" />
  
        <FlowPanel class="flexBox-vertical" style="&discussDataPanel;">
          <FlowPanel>
            <Label for="Owner" text="=discussOwner" style="&ownerLbl;" />
            <DataSelector source="Owner" editSource="OwnerPerson"
              style="&ownerInp;" readOnly="true" />
            <CheckBox for="Accessibility" data="Users" name="Accessibility" source="Accessibility"
              text="=discussPublic" disablable="false" />
          </FlowPanel>
          <FlowPanel data="Users">
            <Label name="membersLabel" text="=discussMembers" style="&membersLbl;" />
            <MultiSelector viewName="Users" property="Members"
              renderColumns="FirstName LastName" editSource="CompanyPerson"
              style="&membersInp;" label="=discussMembers" disablable="false" />
          </FlowPanel>
  
          <FlowPanel data="Relations" for="Company" module="Classifiers.Contacts">
            <Label text="=companies" style="&relCompaniesLbl;" />
            <MultiSelector viewName="Companies" property="Companies"
              renderColumns="Name" style="&relCompaniesInp;" />
          </FlowPanel>
  
          <FlowPanel data="Relations" for="Person" module="Classifiers.Contacts">
            <Label text="=persons" style="&relPersonsLbl;" />
            <MultiSelector viewName="Persons" property="Persons"
              renderColumns="FirstName LastName" style="&relPersonsInp;" />
          </FlowPanel>
  
          <FlowPanel data="Relations" for="Person" module="Classifiers.Contacts">
            <Label text="=calAppointments" style="&relAppoitmentsLbl;" />
            <MultiSelector viewName="Appointments" property="Appointments"
              renderColumns="Summary" choiceColumns="Summary StartDateTime EndDateTime"
              newRowEnabled="false" style="&relAppoitmentsInp;" />
          </FlowPanel>
  
          <FlowPanel data="Relations" for="Task" module="Tasks">
            <Label text="=crmTasks" style="&relTasksLbl;" />
            <MultiSelector viewName="Tasks" property="Tasks"
              renderColumns="Summary ExecutorFirstName ExecutorLastName"
              choiceColumns="Summary ExecutorFirstName ExecutorLastName StartTime FinishTime"
              newRowEnabled="false" style="&relTasksInp;" />
          </FlowPanel>
  
          <FlowPanel data="Relations" for="Document" module="Documents">
            <Label text="=documents" style="&relDocumentsLbl;" />
            <MultiSelector viewName="Documents" property="Documents"
              renderColumns="Name DocumentDate Number" choiceColumns="Name DocumentDate Number"
              newRowEnabled="false" style="&relDocumentsInp;" />
          </FlowPanel>
    
          <FileGroup data="DiscussionsFiles" name="Files" />
           &separator;
          <FlowPanel for="Topic" class="flexBox-horizontal">
            <Label text="=announcement" style="&header;" />
          </FlowPanel>
  
          <FlowPanel for="Topic" class="flexBox-horizontal">
            <Label text="=adTopic" style="&lbl1; min-width:150px;" />
            <DataSelector name="Topic" source="Topic" style="&inp2x; width: 250px"
              choiceColumns="Name" filter="Visible" />
          </FlowPanel>
  
          <FlowPanel for="Topic" class="flexBox-horizontal">
            <Label name="DisplayInBoard" text="=displayInBoard" style="&lbl1; min-width:150px;" />
            <Label for="VisibleFrom" text="=dateFromShort"
              style="text-transform: lowercase; margin-right:4px" />
            <InputDateTime source="VisibleFrom"
              style="&inp2x; width: 100px; margin-right:8px" />
            <Label for="VisibleTo" text="=dateToShort"
              style="text-transform: lowercase; margin-right:4px" />
            <InputDateTime source="VisibleTo" style="&inp2x; width: 100px" />
          </FlowPanel>
  
          <FlowPanel class="flexBox-horizontal">
            <CheckBox name="Important" source="Important" text="=important"
              style="&top1; min-width:70px; padding-right:18px;" />
            <CheckBox name="PermitComment"
              text="=prohibitComment" style="&top1; min-width: 135px; padding-right:18px;" />
          </FlowPanel>
        </FlowPanel>
      </Disclosure>

    <FlowPanel data="DiscussionsComments" name="DiscussionsComments" class="flexible bee-discuss-comment-container"
      style="&commentsPanel;" />
  </FlowPanel>
</f:Form>
